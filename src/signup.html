<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CineSpot-Signup</title>
    <link href="./output.css" rel="stylesheet">
</head>

<body class="bg-indigo-200">
    <div class="flex flex-col md:flex-row justify-center items-stretch gap-10 mx-4 md:mx-10 mt-10">
        <!-- Image Section -->
        <div class="md:w-1/2 w-full hidden md:flex justify-center">
            <img src="https://images.unsplash.com/photo-1535802158478-342f4f24b2f2?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTN8fHdhdGNoJTIwbW92aWUlMjB0b2dldGhlciUyMHJlbW90ZXxlbnwwfHwwfHx8MA%3D%3D"
                alt="Signup Visual" class="rounded-2xl shadow-xl h-full object-cover max-w-md">
        </div>

        <!-- Signup Form -->
        <div
            class="md:w-1/2 w-full bg-green-100 px-6 md:px-10 py-8 rounded-3xl shadow-xl flex flex-col justify-between">
            <!-- LOGO & Title -->
            <div class="flex flex-col items-center gap-4 mb-6">
                <a href="./index.html">
                    <img class="h-16 w-16 md:h-20 md:w-20 rounded-3xl hover:cursor-pointer" src="data:image/jpeg;base64,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
        " alt="CineSpot Logo">
                </a>
                <p class="text-black text-2xl font-bold"><a href="./index.html">CineSpot</a></p>
            </div>

            <!-- Form Fields -->
            <div>
                <!-- Email -->
                <div class="mb-4">
                    <label for="email" class="block mb-1 font-semibold">Email</label>
                    <input id="email" name="email" type="email" required class="bg-gray-200 p-2 rounded w-full"
                        oninput="validateEmail()">
                    <p id="emailError" class="text-red-500 text-sm hidden">Email is invalid</p>
                </div>

                <!-- Username -->
                <div class="mb-4">
                    <label for="username" class="block mb-1 font-semibold">Username</label>
                    <input id="username" name="username" type="text" required class="bg-gray-200 p-2 rounded w-full">
                    <p class="text-red-500 text-sm hidden">Username not available</p>
                </div>

                <!-- Password -->
                <div class="mb-4 relative">
                    <label for="password" class="block mb-1 font-semibold">Password</label>
                    <input id="password" name="password" type="password" required
                        class="bg-gray-200 p-2 pr-10 rounded w-full" oninput="validatePassword()">
                    <span onclick="togglePassword()"
                        class="absolute inset-y-0 right-3 flex items-center cursor-pointer">
                        <img src="https://cdn-icons-png.flaticon.com/128/159/159604.png" alt="Toggle Password"
                            class="h-5 w-5 mt-7">
                    </span>
                    <p id="passwordError" class="text-red-500 text-sm hidden">Password is too weak. Must be 8+ chars
                        with
                        letters, numbers, and symbols.</p>
                </div>

                <!-- Captcha -->
                <div class="mb-4">
                    <label class="block mb-1 font-semibold">Captcha</label>
                    <div class="flex items-center gap-4 mb-2">
                        <span id="captchaText" class="font-mono bg-gray-300 px-4 py-2 rounded">1234</span>
                        <button type="button" onclick="generateCaptcha()" class="focus:outline-none">
                            <img src="https://cdn-icons-png.flaticon.com/128/2805/2805355.png" alt="Refresh Captcha"
                                class="h-6 w-6 hover:rotate-90 transition-transform duration-300">
                        </button>
                    </div>
                    <!-- âœ… Captcha Input Field Added -->
                    <input type="text" id="captchaInput" placeholder="Enter captcha above"
                        class="bg-gray-200 p-2 rounded w-full" required>
                    <p id="captchaError" class="text-red-500 text-sm hidden">Incorrect captcha</p>
                </div>

                <!-- Submit Button -->
                <div class="mt-6">
                    <button type="button" onclick="handleSignup()"
                        class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 w-full">Sign Up</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer Links -->
    <div class="text-center text-sm mt-6 mb-4">
        <p><a href="./index.html">Home</a> - <a href="./Login.html">Login</a> - <a href="./signup.html">Signup</a> - <a
                href="#">Resend Email Verification</a></p>
    </div>

    <!-- Success Message Popup -->
    <div id="successPopup"
        class="hidden fixed top-10 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50">
        Successfully signed up! Redirecting...
    </div>


    <script>
        // Generate a random captcha
        function generateCaptcha() {
            const captcha = Math.random().toString(36).substring(2, 6).toUpperCase();
            document.getElementById('captchaText').innerText = captcha;
        }

        // Validate email format
        function validateEmail() {
            const email = document.getElementById('email').value.trim();
            const emailError = document.getElementById('emailError');
            const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!regex.test(email)) {
                emailError.classList.remove('hidden');
            } else {
                emailError.classList.add('hidden');
            }
        }

        // Validate password strength
        function validatePassword() {
            const password = document.getElementById('password').value;
            const passwordError = document.getElementById('passwordError');
            const strongPassword = /^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/;
            if (!strongPassword.test(password)) {
                passwordError.classList.remove('hidden');
            } else {
                passwordError.classList.add('hidden');
            }
        }

        // Toggle password visibility
        function togglePassword() {
            const passwordInput = document.getElementById('password');
            passwordInput.type = passwordInput.type === 'password' ? 'text' : 'password';
        }

        // Handle signup submission
        function handleSignup(event) {
            event.preventDefault();

            validateEmail();
            validatePassword();

            const emailValid = document.getElementById('emailError').classList.contains('hidden');
            const passwordValid = document.getElementById('passwordError').classList.contains('hidden');

            const enteredCaptcha = document.getElementById('captchaInput').value.trim();
            const actualCaptcha = document.getElementById('captchaText').innerText.trim();
            const captchaError = document.getElementById('captchaError');

            if (enteredCaptcha !== actualCaptcha) {
                captchaError.classList.remove('hidden');
            } else {
                captchaError.classList.add('hidden');
            }

            if (!emailValid || !passwordValid || enteredCaptcha !== actualCaptcha) return;

            const popup = document.getElementById('successPopup');
            popup.classList.remove('hidden');

            setTimeout(() => {
                popup.classList.add('hidden');
                window.location.href = './mainpage.html';
            }, 2000);
        }

        // Initialize captcha on page load
        window.onload = generateCaptcha;
    </script>


</body>

</html>